<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Public Documentation · BlockArrays.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>BlockArrays.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="../../man/abstractblockarrayinterface/">The block axis interface</a></li><li><a class="toctext" href="../../man/blockarrays/">BlockArrays</a></li><li><a class="toctext" href="../../man/pseudoblockarrays/">PseudoBlockArrays</a></li></ul></li><li><span class="toctext">API</span><ul><li class="current"><a class="toctext" href>Public Documentation</a><ul class="internal"><li><a class="toctext" href="#Contents-1">Contents</a></li><li><a class="toctext" href="#Index-1">Index</a></li><li><a class="toctext" href="#AbstractBlockArray-interface-1">AbstractBlockArray interface</a></li><li><a class="toctext" href="#BlockArray-1">BlockArray</a></li><li><a class="toctext" href="#PseudoBlockArray-1">PseudoBlockArray</a></li></ul></li><li><a class="toctext" href="../internals/">Internal Documentation</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>API</li><li><a href>Public Documentation</a></li></ul><a class="edit-page" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/master/docs/src/lib/public.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Public Documentation</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Public-Documentation-1" href="#Public-Documentation-1">Public Documentation</a></h1><p>Documentation for <code>BlockArrays.jl</code>&#39;s public interface.</p><p>See <a href="../internals/#Internal-Documentation-1">Internal Documentation</a> for internal package docs covering all submodules.</p><h2><a class="nav-anchor" id="Contents-1" href="#Contents-1">Contents</a></h2><ul><li><a href="#Public-Documentation-1">Public Documentation</a></li><ul><li><a href="#Contents-1">Contents</a></li><li><a href="#Index-1">Index</a></li><li><a href="#AbstractBlockArray-interface-1">AbstractBlockArray interface</a></li><li><a href="#BlockArray-1">BlockArray</a></li><li><a href="#PseudoBlockArray-1">PseudoBlockArray</a></li></ul></ul><h2><a class="nav-anchor" id="Index-1" href="#Index-1">Index</a></h2><ul><li><a href="#BlockArrays.undef_blocks"><code>BlockArrays.undef_blocks</code></a></li><li><a href="#BlockArrays.AbstractBlockArray"><code>BlockArrays.AbstractBlockArray</code></a></li><li><a href="#BlockArrays.Block"><code>BlockArrays.Block</code></a></li><li><a href="#BlockArrays.BlockArray"><code>BlockArrays.BlockArray</code></a></li><li><a href="#BlockArrays.BlockBoundsError"><code>BlockArrays.BlockBoundsError</code></a></li><li><a href="#BlockArrays.BlockIndex"><code>BlockArrays.BlockIndex</code></a></li><li><a href="#BlockArrays.PseudoBlockArray"><code>BlockArrays.PseudoBlockArray</code></a></li><li><a href="#BlockArrays.UndefBlocksInitializer"><code>BlockArrays.UndefBlocksInitializer</code></a></li><li><a href="#BlockArrays.blockaxes"><code>BlockArrays.blockaxes</code></a></li><li><a href="#BlockArrays.blockcheckbounds"><code>BlockArrays.blockcheckbounds</code></a></li><li><a href="#BlockArrays.blockfirsts"><code>BlockArrays.blockfirsts</code></a></li><li><a href="#BlockArrays.blockisequal"><code>BlockArrays.blockisequal</code></a></li><li><a href="#BlockArrays.blocklasts"><code>BlockArrays.blocklasts</code></a></li><li><a href="#BlockArrays.blocklengths"><code>BlockArrays.blocklengths</code></a></li><li><a href="#BlockArrays.blocksize"><code>BlockArrays.blocksize</code></a></li><li><a href="#BlockArrays.getblock"><code>BlockArrays.getblock</code></a></li><li><a href="#BlockArrays.getblock!"><code>BlockArrays.getblock!</code></a></li><li><a href="#BlockArrays.mortar"><code>BlockArrays.mortar</code></a></li><li><a href="#BlockArrays.setblock!"><code>BlockArrays.setblock!</code></a></li></ul><h2><a class="nav-anchor" id="AbstractBlockArray-interface-1" href="#AbstractBlockArray-interface-1">AbstractBlockArray interface</a></h2><p>This sections defines the functions a subtype of <code>AbstractBlockArray</code> should define to be a part of the <code>AbstractBlockArray</code> interface. An <code>AbstractBlockArray{T, N}</code> is a subtype of <code>AbstractArray{T,N}</code> and should therefore also fulfill the <a href="http://docs.julialang.org/en/latest/manual/interfaces/#abstract-arrays"><code>AbstractArray</code> interface</a>.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockArrays.AbstractBlockArray" href="#BlockArrays.AbstractBlockArray"><code>BlockArrays.AbstractBlockArray</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">abstract AbstractBlockArray{T, N} &lt;: AbstractArray{T, N}</code></pre><p>The abstract type that represents a blocked array. Types that implement the <code>AbstractBlockArray</code> interface should subtype from this type.</p><p>** Typealiases **</p><ul><li><p><code>AbstractBlockMatrix{T}</code> -&gt; <code>AbstractBlockArray{T, 2}</code></p></li><li><p><code>AbstractBlockVector{T}</code> -&gt; <code>AbstractBlockArray{T, 1}</code></p></li><li><p><code>AbstractBlockVecOrMat{T}</code> -&gt; <code>Union{AbstractBlockMatrix{T}, AbstractBlockVector{T}}</code></p></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/abstractblockarray.jl#L5-L18">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockArrays.BlockBoundsError" href="#BlockArrays.BlockBoundsError"><code>BlockArrays.BlockBoundsError</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">BlockBoundsError([A], [inds...])</code></pre><p>Thrown when a block indexing operation into a block array, <code>A</code>, tried to access an out-of-bounds block, <code>inds</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/abstractblockarray.jl#L133-L137">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockArrays.Block" href="#BlockArrays.Block"><code>BlockArrays.Block</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">Block(inds...)</code></pre><p>A <code>Block</code> is simply a wrapper around a set of indices or enums so that it can be used to dispatch on. By indexing a <code>AbstractBlockArray</code> with a <code>Block</code> the a block at that block index will be returned instead of a single element.</p><pre><code class="language-julia-repl">julia&gt; A = BlockArray(ones(2,3), [1, 1], [2, 1])
2×2-blocked 2×3 BlockArray{Float64,2}:
 1.0  1.0  │  1.0
 ──────────┼─────
 1.0  1.0  │  1.0

julia&gt; A[Block(1, 1)]
1×2 Array{Float64,2}:
 1.0  1.0</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/blockindices.jl#L1-L19">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockArrays.BlockIndex" href="#BlockArrays.BlockIndex"><code>BlockArrays.BlockIndex</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">BlockIndex{N}</code></pre><p>A <code>BlockIndex</code> is an index which stores a global index in two parts: the block and the offset index into the block.</p><p>It can be used to index into <code>BlockArrays</code> in the following manner:</p><pre><code class="language-julia-repl">julia&gt; arr = Array(reshape(1:25, (5,5)));

julia&gt; a = PseudoBlockArray(arr, [3,2], [1,4])
2×2-blocked 5×5 PseudoBlockArray{Int64,2}:
 1  │   6  11  16  21
 2  │   7  12  17  22
 3  │   8  13  18  23
 ───┼────────────────
 4  │   9  14  19  24
 5  │  10  15  20  25

julia&gt; a[BlockIndex((1,2), (1,2))]
11

julia&gt; a[BlockIndex((2,2), (2,3))]
20</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/blockindices.jl#L80-L106">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockArrays.blockaxes" href="#BlockArrays.blockaxes"><code>BlockArrays.blockaxes</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">blockaxes(A)</code></pre><p>Return the tuple of valid block indices for array <code>A</code>. </p><pre><code class="language-julia-repl">julia&gt; A = BlockArray([1,2,3],[2,1])
2-blocked 3-element BlockArray{Int64,1}:
 1
 2
 ─
 3

julia&gt; blockaxes(A)[1]
2-element BlockRange{1,Tuple{UnitRange{Int64}}}:
 Block(1)
 Block(2)</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/blockaxis.jl#L76-L93">source</a><div><div><pre><code class="language-none">blockaxes(A, d)</code></pre><p>Return the valid range of block indices for array <code>A</code> along dimension <code>d</code>.</p><pre><code class="language-julia-repl">julia&gt; A = BlockArray([1,2,3],[2,1])
2-blocked 3-element BlockArray{Int64,1}:
 1
 2
 ─
 3

julia&gt; blockaxes(A,1)
2-element BlockRange{1,Tuple{UnitRange{Int64}}}:
 Block(1)
 Block(2)</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/blockaxis.jl#L97-L114">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockArrays.blockisequal" href="#BlockArrays.blockisequal"><code>BlockArrays.blockisequal</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>blockisequal(a::AbstractUnitRange{Int}, b::AbstractUnitRange{Int})</p><p>returns true if a and b have the same block structure.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/blockaxis.jl#L54-L58">source</a><div><div><p>blockisequal(a::Tuple, b::Tuple)</p><p>returns true if <code>all(blockisequal.(a,b))</code>` is true.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/blockaxis.jl#L60-L64">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockArrays.blocksize" href="#BlockArrays.blocksize"><code>BlockArrays.blocksize</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">blocksize(A)</code></pre><p>Return the tuple of the number of blocks along each dimension.</p><pre><code class="language-julia-repl">julia&gt; A = BlockArray(ones(3,3),[2,1],[1,1,1])
2×3-blocked 3×3 BlockArray{Float64,2}:
 1.0  │  1.0  │  1.0
 1.0  │  1.0  │  1.0
 ─────┼───────┼─────
 1.0  │  1.0  │  1.0

julia&gt; blocksize(A)
(2, 3)</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/blockaxis.jl#L120-L136">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockArrays.blockfirsts" href="#BlockArrays.blockfirsts"><code>BlockArrays.blockfirsts</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>blockfirsts(a::AbstractUnitRange{Int})</p><p>returns the first index of each block of <code>a</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/blockaxis.jl#L194-L198">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockArrays.blocklasts" href="#BlockArrays.blocklasts"><code>BlockArrays.blocklasts</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>blocklasts(a::AbstractUnitRange{Int})</p><p>returns the last index of each block of <code>a</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/blockaxis.jl#L200-L204">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockArrays.blocklengths" href="#BlockArrays.blocklengths"><code>BlockArrays.blocklengths</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>blocklengths(a::AbstractUnitRange{Int})</p><p>returns the length of each block of <code>a</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/blockaxis.jl#L206-L210">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockArrays.getblock" href="#BlockArrays.getblock"><code>BlockArrays.getblock</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">getblock(A, inds...)</code></pre><p>Returns the block at blockindex <code>inds...</code>. An alternative syntax is <code>A[Block(inds...)]. Throws a</code>BlockBoundsError` if this block is out of bounds.</p><pre><code class="language-julia-repl">julia&gt; v = Array(reshape(1:6, (2, 3)))
2×3 Array{Int64,2}:
 1  3  5
 2  4  6

julia&gt; A = BlockArray(v, [1,1], [2,1])
2×2-blocked 2×3 BlockArray{Int64,2}:
 1  3  │  5
 ──────┼───
 2  4  │  6

julia&gt; getblock(A, 2, 1)
1×2 Array{Int64,2}:
 2  4

julia&gt; A[Block(1, 2)]
1×1 Array{Int64,2}:
 5</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/abstractblockarray.jl#L46-L72">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockArrays.getblock!" href="#BlockArrays.getblock!"><code>BlockArrays.getblock!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">getblock!(X, A, inds...)</code></pre><p>Stores the block at blockindex <code>inds</code> in <code>X</code> and returns it. Throws a <code>BlockBoundsError</code> if the attempted assigned block is out of bounds.</p><pre><code class="language-julia-repl">julia&gt; A = PseudoBlockArray(ones(2, 3), [1, 1], [2, 1])
2×2-blocked 2×3 PseudoBlockArray{Float64,2}:
 1.0  1.0  │  1.0
 ──────────┼─────
 1.0  1.0  │  1.0

julia&gt; x = zeros(1, 2);

julia&gt; getblock!(x, A, 2, 1);

julia&gt; x
1×2 Array{Float64,2}:
 1.0  1.0</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/abstractblockarray.jl#L78-L99">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockArrays.setblock!" href="#BlockArrays.setblock!"><code>BlockArrays.setblock!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">setblock!(A, v, inds...)</code></pre><p>Stores the block <code>v</code> in the block at block index <code>inds</code> in <code>A</code>. An alternative syntax is <code>A[Block(inds...)] = v</code>. Throws a <code>BlockBoundsError</code> if this block is out of bounds.</p><pre><code class="language-julia-repl">julia&gt; A = PseudoBlockArray(zeros(2, 3), [1, 1], [2, 1]);

julia&gt; setblock!(A, [1 2], 1, 1);

julia&gt; A[Block(2, 1)] = [3 4];

julia&gt; A
2×2-blocked 2×3 PseudoBlockArray{Float64,2}:
 1.0  2.0  │  0.0
 ──────────┼─────
 3.0  4.0  │  0.0</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/abstractblockarray.jl#L106-L125">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockArrays.blockcheckbounds" href="#BlockArrays.blockcheckbounds"><code>BlockArrays.blockcheckbounds</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">blockcheckbounds(A, inds...)</code></pre><p>Throw a <code>BlockBoundsError</code> if the specified block indexes are not in bounds for the given block array. Subtypes of <code>AbstractBlockArray</code> should specialize this method if they need to provide custom block bounds checking behaviors.</p><pre><code class="language-julia-repl">julia&gt; A = BlockArray(rand(2,3), [1,1], [2,1]);

julia&gt; blockcheckbounds(A, 3, 2)
ERROR: BlockBoundsError: attempt to access 2×2-blocked 2×3 BlockArray{Float64,2,Array{Array{Float64,2},2},Tuple{BlockedUnitRange{Array{Int64,1}},BlockedUnitRange{Array{Int64,1}}}} at block index [3,2]
[...]</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/abstractblockarray.jl#L161-L175">source</a></section><h2><a class="nav-anchor" id="BlockArray-1" href="#BlockArray-1">BlockArray</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockArrays.BlockArray" href="#BlockArrays.BlockArray"><code>BlockArrays.BlockArray</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">BlockArray{T, N, R&lt;:AbstractArray{&lt;:AbstractArray{T,N},N}, BS&lt;:NTuple{N,AbstractUnitRange{Int}}} &lt;: AbstractBlockArray{T, N}</code></pre><p>A <code>BlockArray</code> is an array where each block is stored contiguously. This means that insertions and retrieval of blocks can be very fast and non allocating since no copying of data is needed.</p><p>In the type definition, <code>R</code> defines the array type that holds the blocks, for example <code>Matrix{Matrix{Float64}}</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/blockarray.jl#L57-L64">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockArrays.undef_blocks" href="#BlockArrays.undef_blocks"><code>BlockArrays.undef_blocks</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><pre><code class="language-none">undef_blocks</code></pre><p>Alias for UndefBlocksInitializer(), which constructs an instance of the singleton type UndefBlocksInitializer (@ref), used in block array initialization to indicate the array-constructor-caller would like an uninitialized block array.</p><p>Examples</p><p>≡≡≡≡≡≡≡≡≡≡ <code>julia julia&gt; BlockArray(undef_blocks, Matrix{Float32}, [1,2], [3,2]) 2×2-blocked 3×5 BlockArray{Float32,2}:  #undef  #undef  #undef  │  #undef  #undef  ------------------------┼----------------  #undef  #undef  #undef  │  #undef  #undef  #undef  #undef  #undef  │  #undef  #undef</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/blockarray.jl#L30-L48">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockArrays.UndefBlocksInitializer" href="#BlockArrays.UndefBlocksInitializer"><code>BlockArrays.UndefBlocksInitializer</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">UndefBlocksInitializer</code></pre><p>Singleton type used in block array initialization, indicating the array-constructor-caller would like an uninitialized block array. See also undef_blocks (@ref), an alias for UndefBlocksInitializer().</p><p>Examples</p><p>≡≡≡≡≡≡≡≡≡≡ <code>julia julia&gt; BlockArray(undef_blocks, Matrix{Float32}, [1,2], [3,2]) 2×2-blocked 3×5 BlockArray{Float32,2}:  #undef  #undef  #undef  │  #undef  #undef  ────────────────────────┼────────────────  #undef  #undef  #undef  │  #undef  #undef  #undef  #undef  #undef  │  #undef  #undef</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/blockarray.jl#L9-L27">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockArrays.mortar" href="#BlockArrays.mortar"><code>BlockArrays.mortar</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">mortar(blocks::AbstractArray)
mortar(blocks::AbstractArray{R, N}, sizes_1, sizes_2, ..., sizes_N)
mortar(blocks::AbstractArray{R, N}, block_sizes::NTuple{N,AbstractUnitRange{Int}})</code></pre><p>Construct a <code>BlockArray</code> from <code>blocks</code>.  <code>block_sizes</code> is computed from <code>blocks</code> if it is not given.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; blocks = permutedims(reshape([
                  1ones(1, 3), 2ones(1, 2),
                  3ones(2, 3), 4ones(2, 2),
              ], (2, 2)))
2×2 Array{Array{Float64,2},2}:
 [1.0 1.0 1.0]               [2.0 2.0]
 [3.0 3.0 3.0; 3.0 3.0 3.0]  [4.0 4.0; 4.0 4.0]

julia&gt; mortar(blocks)
2×2-blocked 3×5 BlockArray{Float64,2}:
 1.0  1.0  1.0  │  2.0  2.0
 ───────────────┼──────────
 3.0  3.0  3.0  │  4.0  4.0
 3.0  3.0  3.0  │  4.0  4.0

julia&gt; ans == mortar(
                  (1ones(1, 3), 2ones(1, 2)),
                  (3ones(2, 3), 4ones(2, 2)),
              )
true</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/blockarray.jl#L197-L228">source</a><div><div><pre><code class="language-none">mortar((block_11, ..., block_1m), ... (block_n1, ..., block_nm))</code></pre><p>Construct a <code>BlockMatrix</code> with <code>n * m</code>  blocks.  Each <code>block_ij</code> must be an <code>AbstractMatrix</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/blockarray.jl#L271-L276">source</a></section><h2><a class="nav-anchor" id="PseudoBlockArray-1" href="#PseudoBlockArray-1">PseudoBlockArray</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockArrays.PseudoBlockArray" href="#BlockArrays.PseudoBlockArray"><code>BlockArrays.PseudoBlockArray</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">PseudoBlockArray{T, N, R} &lt;: AbstractBlockArray{T, N}</code></pre><p>A <code>PseudoBlockArray</code> is similar to a <a href="#BlockArrays.BlockArray"><code>BlockArray</code></a> except the full array is stored contiguously instead of block by block. This means that is not possible to insert and retrieve blocks without copying data. On the other hand <code>Array</code> on a <code>PseudoBlockArray</code> is instead instant since it just returns the wrapped array.</p><p>When iteratively solving a set of equations with a gradient method the Jacobian typically has a block structure. It can be convenient to use a <code>PseudoBlockArray</code> to build up the Jacobian block by block and then pass the resulting matrix to a direct solver using <code>Array</code>.</p><pre><code class="language-julia-repl">julia&gt; using BlockArrays, Random, SparseArrays

julia&gt; Random.seed!(12345);

julia&gt; A = PseudoBlockArray(rand(2,3), [1,1], [2,1])
2×2-blocked 2×3 PseudoBlockArray{Float64,2}:
 0.562714  0.371605  │  0.381128
 ────────────────────┼──────────
 0.849939  0.283365  │  0.365801

julia&gt; A = PseudoBlockArray(sprand(6, 0.5), [3,2,1])
3-blocked 6-element PseudoBlockArray{Float64,1,SparseVector{Float64,Int64},Tuple{BlockedUnitRange{Array{Int64,1}}}}:
 0.0                
 0.5865981007905481
 0.0                
 ───────────────────
 0.05016684053503706
 0.0
 ───────────────────
 0.0</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaArrays/BlockArrays.jl/blob/abcde2f011eb1591ad0a5badcc703dceffc21a99/src/pseudo_blockarray.jl#L8-L42">source</a></section><footer><hr/><a class="previous" href="../../man/pseudoblockarrays/"><span class="direction">Previous</span><span class="title">PseudoBlockArrays</span></a><a class="next" href="../internals/"><span class="direction">Next</span><span class="title">Internal Documentation</span></a></footer></article></body></html>
